<main>

    <div id="slider">
   <div class="slides">
      <!-- First slide --> 
      <div class="slider">
         <div class="legend"></div>
         <div class="content">
            <div class="content-txt">
               <h1> Read free books online </h1>
               <h2> Millions of books available through Controlled Digital Lending </h2>
            </div>
         </div>
         <div class="images"> 
            <%= image_tag "slider1.jpg", style: "width: -webkit-fill-available;" %>
         </div>
      </div>
      <!-- Second slide --> 
      <div class="slider">
         <div class="legend"></div>
         <div class="content">
            <div class="content-txt">
               <h1> Keep Track of your Favorite Books </h1>
               <h2> Organize your Books using Lists & the Reading Log </h2>
            </div>
         </div>
         <div class="images"> 
            <%= image_tag "slider2.jpg", style: "width: -webkit-fill-available;" %>
         </div>
      </div>
      <!-- Third slide --> 
      <div class="slider">
         <div class="legend"></div>
         <div class="content">
            <div class="content-txt">
               <h1> Be an Open Librarian </h1>
               <h2> Dozens of ways you can help improve the library </h2>
            </div>
         </div>
         <div class="images"> 
            <%= image_tag "slider3.jpg", style: "width: -webkit-fill-available;" %>
         </div>
      </div>
      <!-- Fourth slide --> 
      <div class="slider">
         <div class="legend"></div>
         <div class="content">
            <div class="content-txt">
               <h1> Try Fulltext Search </h1>
               <h2> Find matching results within the text of millions of books </h2>
            </div>
         </div>
         <div class="images"> 
            <%= image_tag "slider4.jpg", style: "width: -webkit-fill-available;" %>
         </div>
      </div>
   </div>
</div>




        <!--<h2>Import Users</h2> -->

        <%#= form_tag import_users_path, multipart: true do %>
        <%#= file_field_tag :file %>
        <%#= submit_tag "Import" %>
        <%# end %>
        


        <% 
        url = 'https://www.googleapis.com/books/v1/volumes?q=book&projection=lite&maxResults=3'

        #Example.api_call
        #https://www.googleapis.com/books/v1/volumes?q=Potter+subject:fiction&maxResults=20
        response = RestClient.get('https://www.googleapis.com/books/v1/volumes?q=Potter&maxResults=5&filter=partial')
        books_array = JSON.parse(response)
        #raise books_array.to_json
        %>

        
        <h2 class="pb-2 border-bottom" style="margin-left: 120px">Books We Love</h2>
        <br><br>

        <div class="container">
            <div class="row">
                <% books_array['items'].each do |book|%>
                    <div class="col imag">
                        <%= link_to about_book_path(id: book["id"]), method: :get do %>
                            <div class="col imag" style="background-image: url(<% if (book['volumeInfo']['imageLinks']) %><%= book['volumeInfo']['imageLinks']['thumbnail'] %><% end %>); background-repeat:no-repeat;  width:200px; height:290px !important"></div>
                        <% end %>
                    </div>
                <% end %>
        </div>
        </div>
        
        <br><br>
        <h2 class="pb-2 border-bottom" style="margin-left: 120px">Fiction books</h2>
        <br><br>
        <%response = RestClient.get('https://www.googleapis.com/books/v1/volumes?q=subject:fiction&filter=partial&maxResults=5')
        books_array = JSON.parse(response)%>
        <div class="container">
            <div class="row">
                <% books_array['items'].each do |book|%>
                    <div class="col imag">
                        <%= link_to about_book_path(id: book["id"]), method: :get do %>
                            <div class="col imag" style="background-image: url(<% if (book['volumeInfo']['imageLinks']) %><%= book['volumeInfo']['imageLinks']['thumbnail'] %><% end %>); background-repeat:no-repeat;  width:200px; height:290px !important"></div>
                        <% end %>
                    </div>
                <% end %>
        </div>
        </div>

        <br><br>
        <h2 class="pb-2 border-bottom" style="margin-left: 120px">Drama books</h2>
        <br><br>
        <%response = RestClient.get('https://www.googleapis.com/books/v1/volumes?q=subject:drama&filter=partial&maxResults=5')
        books_array = JSON.parse(response)%>
        <div class="container">
            <div class="row">
                <% books_array['items'].each do |book|%>
                    <div class="col imag">
                        <%= link_to about_book_path(id: book["id"]), method: :get do %>
                            <div class="col imag" style="background-image: url(<% if (book['volumeInfo']['imageLinks']) %><%= book['volumeInfo']['imageLinks']['thumbnail'] %><% end %>); background-repeat:no-repeat;  width:200px; height:290px !important"></div>
                        <% end %>
                    </div>
                <% end %>
        </div>
        </div>




    <br><br>
        <h2 class="pb-2 border-bottom" style="margin-left: 120px">Thriller books</h2>
        <br><br>
        <%response = RestClient.get('https://www.googleapis.com/books/v1/volumes?q=subject:thriller&filter=partial&maxResults=5')
        books_array = JSON.parse(response)%>
        <div class="container">
            <div class="row">
                <% books_array['items'].each do |book|%>
                    <div class="col imag">
                        <%= link_to about_book_path(id: book["id"]), method: :get do %>
                            <div class="col imag" style="background-image: url(<% if (book['volumeInfo']['imageLinks']) %><%= book['volumeInfo']['imageLinks']['thumbnail'] %><% end %>); background-repeat:no-repeat;  width:200px; height:290px !important"></div>
                        <% end %>
                    </div>
                <% end %>
        </div>
        </div>
</main>



  